# SPA 쇼핑몰 프로젝트

## 프로젝트 개요
본 프로젝트는 순수 자바스크립트를 이용하여 SPA(단일 페이지 애플리케이션) 쇼핑몰을 구현한 것입니다. 사용자는 제품을 보고, 검색하고, 장바구니에 담을 수 있는 기능들을 사용할 수 있습니다.

### 기술 스택
- HTML
- CSS
- JavaScript (Vanilla)

### 설치 요구 환경
- npm : `v10.2.4`
- node : `v20.11.0`

### 주요 기능
- 메인 페이지
  - 주소: /
  - 기능:
   - 제품 리스트를 그리드 형식으로 표시
   - 제품 클릭 시 상세 페이지로 이동
   - 페이지당 제품 수를 선택 가능
   - 페이징 처리
   - 제품 검색 기능
   - 장바구니에 담긴 제품 수 표시


- 제품 상세 페이지
  - 주소: /product/{productId}
  - 기능:
    - 뒤로가기 버튼
    - 제품 사진 및 상세 정보 표시
    - 장바구니 추가 기능
    - 로컬 스토리지를 이용한 장바구니 관리


- 장바구니 페이지
  - 주소: /cart
  - 기능:
    - 뒤로가기 버튼
    - 장바구니에 담긴 제품의 이미지, 제목, 수량 표시
    - 제품 삭제 기능
    - 상단에 현재 장바구니에 담겨진 개수가 표시


- API 문서
  - 제품 정보: https://dummyjson.com/products
  - 제품 상세 정보: https://dummyjson.com/products/{productId}


### 파일 구조
```

├── README.md - 프로젝트 설명
│
├── package.json - 프로젝트 메타데이터와 의존성 목록
├── package-lock.json - 정확한 의존성 트리를 위한 lock 파일
│
├── index.html - 메인 HTML 파일
├── productDetails.html - 제품 상세 정보 페이지 HTML
├── cart.html - 장바구니 페이지 HTML
│
├───js/
│   ├──cart.js - 장바구니 관련 스크립트
│   ├──productDetails.js - 제품 상세 정보 관련 스크립트
│   ├──products.js - 제품 목록 관련 스크립트
│
├───style/
│   ├──cart.css - 장바구니 페이지 스타일
│   ├──productDetails.css - 제품 상세 정보 페이지 스타일
│   ├──products.css - 제품 목록 페이지 스타일
│
└───node_modules/ - npm을 통해 설치된 패키지 모듈들

```
### 작동 방법
- 1. 해당 되는 디렉토리 위치에서 아래 명령어를 실행하여 node 모듈을 설치합니다.
     ```
     $ yarn install
     ```
     
- 2. 빌드가 완료되면, 아래 명령어로 로컬 페이지로 접속 합니다.
     ```
     $ yarn start
     ```

- 3. 결과 페이지(http://127.0.0.1:8080)를 통해 다음과 같은 플로우를 타게 됩니다.
  - 순서 : 상품 -> 상품 상세 -> 장바구니

    
- 4. 결과 화면 이미지
![result1.png](result%2Fresult1.png)
![result2.png](result%2Fresult2.png)
![result3.png](result%2Fresult3.png)


### 코드 설명
1. product
   - 1. 초기 설정:
     - 페이지 로드가 완료되면 (DOMContentLoaded 이벤트) 코드가 실행됩니다.
     - 페이지 당 표시할 아이템 수(itemsPerPage), 현재 페이지(currentPage), 검색된 제품 목록(searchedProducts)을 변수로 초기화합니다.
   - 2. 페이지당 아이템 수 선택:
     - 사용자가 페이지당 표시할 아이템 수를 변경할 수 있도록 itemsPerPageSelect 드롭다운에 이벤트 리스너를 추가합니다.
     - 값이 변경되면 제품 목록을 업데이트하고 현재 페이지를 1로 재설정합니다.
   - 3. 제품 검색 기능:
     - 사용자가 '검색' 버튼을 클릭하면, 검색어에 맞는 제품을 필터링하여 목록을 업데이트합니다.
   - 4. 장바구니 카운터:
     - 장바구니 아이콘에 마우스 커서를 포인터 모양으로 변경하고, 클릭 시 장바구니 페이지로 이동합니다.
   - 5. 제품 목록 업데이트:
     - updateProductList 함수는 주어진 제품 목록을 페이지에 맞게 표시합니다.
     - 각 제품은 클릭 가능하며, 클릭 시 해당 제품의 상세 페이지로 이동합니다.
   - 6. 제품 데이터 가져오기:
     - fetchProducts 함수는 API를 통해 전체 제품 목록을 가져와서 화면에 표시하고, 검색을 위해 searchedProducts에 저장합니다.
   - 7. 페이지네이션 생성:
     - createPagination 함수는 전체 아이템 수와 현재 페이지를 기준으로 페이지네이션을 만듭니다.
   - 8. 각 페이지 링크를 클릭하면 해당 페이지의 제품 목록이 표시됩니다.
   - 9. 제품 검색 실행:
     - searchProducts 함수는 검색어를 포함하는 제품을 필터링하여 목록을 업데이트합니다.
   - 10. 장바구니 카운터 업데이트:
   - 11. updateCartCounter 함수는 로컬 스토리지에서 장바구니 아이템의 개수를 읽어와서 화면에 표시합니다.
   - 12. 검색 기능 설정:
     - setupSearchFeature 함수는 검색 입력 필드에 keyup 이벤트를 추가하여, 엔터 키를 누르면 검색을 실행합니다.
   - 13. 초기 데이터 로드 및 기능 설정:
     - 제품 목록을 가져오고, 장바구니 카운터를 업데이트하며, 검색 기능을 설정합니다.


2. details
   - 1. 문서 로드 완료 시 초기화:
     - 페이지 로드가 완료되면 (DOMContentLoaded 이벤트) 주어진 함수가 실행됩니다.
     - URL에서 id 파라미터를 추출하여 해당 제품의 상세 정보를 요청합니다.
   - 2. DOM 요소 참조:
     - productDetails, backButton, cartCounter 등 페이지 내의 필요한 HTML 요소들에 대한 참조를 저장합니다.
   - 3. 뒤로가기 버튼 이벤트 핸들러:
     - backButton에 클릭 이벤트 리스너를 추가하여, 클릭 시 이전 페이지로 돌아가는 기능을 구현합니다.
   - 4. 장바구니 카운터 클릭 기능:
     - cartCounterDiv의 style.cursor 속성을 'pointer'로 설정하여 마우스 오버 시 손가락 모양으로 보이게 합니다.
     - cartCounterDiv를 클릭하면 장바구니 페이지(cart.html)로 이동하게 합니다.
   - 5. 장바구니 카운터 업데이트:
     - updateCartCounter 함수를 통해 로컬 스토리지에 저장된 장바구니 항목의 수를 읽어와 화면에 표시합니다.
   - 6. 제품 상세 정보 표시:
     - displayProductDetails 함수는 API로부터 받은 제품 데이터를 HTML로 변환하여 productDetails 요소 안에 내용을 채웁니다.
   - 7. 제품 상세 정보 가져오기:
     - fetchProductDetails 함수는 API 요청을 통해 제품 상세 정보를 가져온 후, 그 정보를 displayProductDetails 함수에 전달하여 화면에 표시합니다.
   - 8. 장바구니 추가 기능:
     - 전역 함수 addToCart는 사용자가 선택한 수량을 로컬 스토리지의 장바구니 항목에 추가합니다.
     - 제품이 이미 장바구니에 있을 경우 수량만 업데이트하고, 새로운 제품이면 장바구니 목록에 추가합니다.
   - 9. 초기 데이터 로드 및 화면 업데이트:
     - fetchProductDetails 함수를 호출하여 현재 페이지의 제품 상세 정보를 가져오고,
     - updateCartCounter 함수를 호출하여 장바구니 카운터를 초기화합니다.


3. cart
   - 1. 이벤트 리스너 초기화:
     - DOMContentLoaded 이벤트 리스너를 통해 HTML 문서가 완전히 로드되고 나서 스크립트가 실행됩니다. 이것은 모든 DOM 요소가 로드된 상태에서 코드가 실행됨을 보장합니다.
   - 2. DOM 요소 참조:
     - backButton, cartCounter, cartList 등의 DOM 요소를 찾아 각 변수에 할당합니다. 이 요소들은 페이지 내에서 사용자 인터페이스와 상호작용하는 데 사용됩니다.
   - 3. 뒤로가기 버튼 이벤트 핸들러:
     - backButton에 클릭 이벤트 리스너를 추가하여, 사용자가 버튼을 클릭하면 이전 페이지로 돌아가는 기능을 구현합니다. 이는 window.history.back() 메소드를 사용하여 이루어집니다.
   - 4. 장바구니 카운터 업데이트:
     - updateCartCounter 함수는 로컬 스토리지에서 cartItems 배열을 읽어와서 그 길이(장바구니에 담긴 상품 수)를 표시합니다. 이 값은 cartCounter DOM 요소에 표시됩니다.
   - 5. 장바구니 아이템 표시:
     - displayCartItems 함수는 장바구니에 있는 각 아이템의 정보를 서버에서 가져와 화면에 표시합니다. 각 아이템은 리스트 아이템(li)으로 생성되며, 상품의 섬네일 이미지, 제목, 수량, 가격 정보와 함께 삭제 버튼이 포함됩니다.
   - 6. 장바구니 아이템 삭제 이벤트:
     - cartList에 클릭 이벤트 리스너를 추가하여, 사용자가 삭제 버튼(remove-btn)을 클릭하면 해당 아이템을 장바구니에서 제거하는 removeFromCart 함수를 호출합니다.
   - 7. 장바구니 아이템 제거:
     - removeFromCart 함수는 주어진 인덱스에 따라 cartItems 배열에서 해당 아이템을 삭제하고, 변경된 배열을 다시 로컬 스토리지에 저장합니다. 이후, 장바구니 아이템 리스트와 카운터를 업데이트합니다.

